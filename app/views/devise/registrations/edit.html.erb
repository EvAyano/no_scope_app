<div class="hero-section">
  <div class="hero-titles">
    <h2 class="hero-subtitle">Account info</h2>
    <h1 class="hero-title">アカウント情報</h1>
  </div>
</div>

<div class="background-container">
  <section class="account-settings-section py-5">
    <div class="container">
      <div class="row align-items-center">
        <!-- 左側: プロフィール画像とニックネーム -->
        <div class="col-md-4 text-center mb-4 mb-md-0 profile-image-and-nickname">
          <div class="profile-container">
            <%= link_to edit_user_avatar_path, class: "profile-image-wrapper" do %>
              <% if @user.avatar.attached? %>
                <%= image_tag @user.avatar.variant(resize_to_limit: [300, 300]), class: "profile-image", alt: "User Avatar" %>
              <% else %>
                <%= image_tag "user-default-image.png", class: "profile-image", alt: "Default Avatar" %>
              <% end %>
              <div class="profile-hover-overlay">プロフィール画像 編集</div>
            <% end %>
          </div>
          <div class="nickname-container mt-3">
            <span class="nickname-text"><%= @user.nickname.presence || "未設定" %></span>
            <div class="mt-2">
              <%= link_to "変更", edit_user_nickname_path, class: "nickname-edit-link" %>
            </div>
          </div>
        </div>

        <!-- 右側: メールアドレスとパスワード -->
        <div class="col-md-8">
          <div class="account-info-card p-3">
            <table class="info-table w-100">
              <tr>
                <th class="info-label">メールアドレス</th>
                <td>
                  <span class="info-value"><%= @user.email %></span>
                  <%= link_to "変更", edit_user_email_path, class: "info-edit-link ms-2" %>
                </td>
              </tr>
              <tr>
                <th class="info-label">パスワード</th>
                <td>
                  <span class="info-value">********</span>
                  <%= link_to "変更", edit_custom_user_password_path, class: "info-edit-link ms-2" %>
                </td>
              </tr>
            </table>
          </div>
        </div>
      </div>

      <!-- 下部: ログアウトとアカウント削除ボタン -->
      <div class="row mt-4">
        <div class="col-12 text-end d-flex justify-content-end gap-2">
          <%= link_to 'ログアウト', destroy_user_session_path, data: { turbo_method: :delete }, class: 'btn btn-logout' %>
          <%= button_to "アカウント削除", registration_path(resource_name), data: { confirm: "本当にアカウントを削除しますか？", turbo_confirm: "本当にアカウントを削除しますか？" }, method: :delete, class: 'btn btn-delete-account' %>
        </div>
      </div>
    </div>
  </section>
</div>
